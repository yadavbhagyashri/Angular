{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { HttpClient } from '@angular/common/http';\nimport { map, tap } from 'rxjs/operators';\nimport { RecipeService } from '../recipes/recipe.service';\nimport { AuthService } from '../auth/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../recipes/recipe.service\";\nimport * as i3 from \"../auth/auth.service\";\nvar DataStorageService = /** @class */function () {\n  function DataStorageService(http, recipeService, authService) {\n    this.http = http;\n    this.recipeService = recipeService;\n    this.authService = authService;\n  }\n  DataStorageService.prototype.storeRecipes = function () {\n    var recipes = this.recipeService.getRecipes();\n    this.http.put('https://ng-course-recipe-book-65f10.firebaseio.com/recipes.json', recipes).subscribe(function (response) {\n      console.log(response);\n    });\n  };\n  DataStorageService.prototype.fetchRecipes = function () {\n    var _this = this;\n    return this.http.get('https://ng-course-recipe-book-65f10.firebaseio.com/recipes.json').pipe(map(function (recipes) {\n      return recipes.map(function (recipe) {\n        return __assign(__assign({}, recipe), {\n          ingredients: recipe.ingredients ? recipe.ingredients : []\n        });\n      });\n    }), tap(function (recipes) {\n      _this.recipeService.setRecipes(recipes);\n    }));\n  };\n  DataStorageService.ɵfac = function DataStorageService_Factory(t) {\n    return new (t || DataStorageService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.RecipeService), i0.ɵɵinject(i3.AuthService));\n  };\n  DataStorageService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: DataStorageService,\n    factory: DataStorageService.ɵfac,\n    providedIn: 'root'\n  });\n  return DataStorageService;\n}();\nexport { DataStorageService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}